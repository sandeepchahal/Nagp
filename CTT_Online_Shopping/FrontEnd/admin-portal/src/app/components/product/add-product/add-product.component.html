<div class="product-add">
  <h1>Add Product</h1>
  <form (ngSubmit)="onSubmit()">
    <!-- Category Dropdown -->
    <div class="form-group">
      <label for="category">Category</label>
      <input
        type="text"
        id="category"
        [(ngModel)]="categoryInput"
        name="categoryInput"
        (input)="onCategoryInputChange()"
        placeholder="Search or select a category"
        required
      />
      <div class="dropdown" *ngIf="filteredCategories.length > 0">
        <div
          *ngFor="let category of filteredCategories"
          (click)="onCategorySelected(category)"
          class="dropdown-item"
        >
          {{ category.name }}
        </div>
      </div>
    </div>

    <!-- SubCategory Dropdown -->
    <div class="form-group">
      <label for="subCategory">SubCategory</label>
      <input
        type="text"
        id="subCategory"
        [(ngModel)]="subCategoryInput"
        name="subCategoryInput"
        (input)="onSubCategoryInputChange()"
        placeholder="Search or select a subcategory"
        [disabled]="!product.categoryId"
        required
      />
      <div class="dropdown" *ngIf="subCategories.length > 0">
        <div
          *ngFor="let subCategory of subCategories"
          (click)="onSubCategorySelected(subCategory)"
          class="dropdown-item"
        >
          {{ subCategory.name }}
        </div>
      </div>
    </div>

    <!-- Brand Dropdown -->
    <div class="form-group">
      <label for="brand">Brand</label>
      <input
        type="text"
        id="brand"
        [(ngModel)]="brandInput"
        name="brandInput"
        (input)="onBrandInputChange()"
        placeholder="Search or select a brand"
        required
      />
      <div class="dropdown" *ngIf="brands.length > 0">
        <div
          *ngFor="let brand of brands"
          (click)="onBrandSelected(brand)"
          class="dropdown-item"
        >
          {{ brand.name }}
        </div>
      </div>
    </div>

    <!-- Product Name -->
    <div class="form-group">
      <label for="productName">Product Name</label>
      <input
        type="text"
        id="productName"
        [(ngModel)]="product.name"
        name="name"
        placeholder="Enter product name"
        required
      />
    </div>

    <!-- Product Description (TinyMCE Editor) -->
    <div class="form-group">
      <label for="description">Description</label>
      <editor
        [(ngModel)]="product.description"
        name="description"
        apiKey="uoekf9wyq7a3jc2vkvotddkco2llde2b2b847xeofo4bb6qc"
        [init]="{
          plugins:
            'anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount',
          toolbar:
            'undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat'
        }"
      ></editor>
    </div>

    <!-- Submit Button -->
    <button type="submit" [disabled]="!isFormValid()">Add Product</button>
  </form>
</div>
