<div class="container mt-4">
    <h2>Order Review</h2>
  
    <!-- Personal Information -->
    <div class="card mb-3">
      <div class="card-header"><strong>Personal Information</strong></div>
      <div class="card-body">
        <p><strong>Name:</strong> {{ user.personalInformation.name }}</p>
        <p><strong>Email:</strong> {{ user.personalInformation.email }}</p>
        <p><strong>Phone:</strong> {{ user.personalInformation.phone }}</p>
      </div>
    </div>
  
    <!-- Shipping Information (if different) -->
    <div class="card mb-3" *ngIf="user.addressDetail.isShippingDifferent">
      <div class="card-header"><strong>Shipping Information</strong></div>
      <div class="card-body">
        <p><strong>Street Address:</strong> {{ user.shippingInformation?.streetAddress }}</p>
        <p><strong>City:</strong> {{ user.shippingInformation?.city }}</p>
        <p><strong>Country:</strong> {{ user.shippingInformation?.country }}</p>
        <p><strong>Zip Code:</strong> {{ user.shippingInformation?.zipCode }}</p>
      </div>
    </div>
  
    <!-- Cart Items Table -->
    <div *ngIf="cartItems.length > 0">
      <h3>Your Cart ({{ cartItems.length }} items)</h3>
      <table class="table table-striped">
        <thead>
          <tr>
            <th></th>
            <th>Product Name</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>SubTotal</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of cartItems">
            <td><img [src]="item.imgUrl" alt="Product Image" class="img-fluid small-img"></td>
            <td>
              <p>{{ item.name }}</p>
              <p *ngIf="item.sizeId">Size - {{ item.sizeLabel }}</p>
              <p *ngIf="item.colorId">Color - {{ item.colorLabel }}</p>
            </td>
            <td>
              <strong *ngIf="item.discountedPrice !== 0; else originalPrice">
                {{ item.discountedPrice | currency:'INR' }}
              </strong>
              <ng-template #originalPrice>
                <strong>{{ item.price | currency:'INR' }}</strong>
              </ng-template>
            </td>
            <td>{{ item.orderCount }}</td>
            <td>
              <strong *ngIf="item.discountedPrice !== 0; else originalTotal">
                {{ (item.discountedPrice * item.orderCount) | currency:'INR' }}
              </strong>
              <ng-template #originalTotal>
                <strong>{{ (item.price * item.orderCount) | currency:'INR' }}</strong>
              </ng-template>
            </td>
          </tr>
        </tbody>
      </table>
  
      <!-- Order Summary -->
      <div class="card">
        <div class="card-header"><strong>Order Summary</strong></div>
        <div class="card-body">
          <p><strong>Cart Total:</strong> {{ totalPrice | currency:'INR' }}</p>
          <p><strong>Shipping:</strong> {{ shipping | currency:'INR' }}</p>
          <p><strong>Total Price:</strong> {{ (totalPrice + shipping) | currency:'INR' }}</p>
          <button class="btn btn-success btn-lg btn-block" (click)="placeOrder()">Confirm Order</button>
        </div>
      </div>
    </div>
  
    <div *ngIf="cartItems.length === 0" class="alert alert-info">
      Your cart is empty. Please add some items.
    </div>
  </div>
  